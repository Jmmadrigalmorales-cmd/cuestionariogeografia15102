<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicios de Cambio de Unidades (v2)</title>
    <!-- Incluimos Tailwind CSS para un diseño limpio y moderno -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f7f6;
        }
        /* Estilo para los inputs de número sin flechas */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance: textfield;
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto max-w-3xl p-4 md:p-8">
        
        <header class="text-center mb-6">
            <h1 class="text-3xl md:text-4xl font-bold text-blue-700">Práctica de Cambio de Unidades</h1>
            <p class="text-lg text-gray-600 mt-2">¡Vamos a dominar los factores de conversión!</p>
        </header>

        <!-- Marcador de Aciertos y Fallos -->
        <div class="bg-white shadow-lg rounded-lg p-4 mb-6 sticky top-4 z-10">
            <h2 class="text-xl font-bold text-center mb-3">Tu Progreso</h2>
            <div class="flex justify-around text-center">
                <div>
                    <span class="block text-3xl font-bold text-green-600" id="aciertos">0</span>
                    <span class="text-sm text-gray-600">Aciertos</span>
                </div>
                <div>
                    <span class="block text-3xl font-bold text-red-600" id="fallos">0</span>
                    <span class="text-sm text-gray-600">Fallos</span>
                </div>
            </div>
        </div>

        <!-- Explicación Detallada del Método -->
        <div class="bg-blue-50 border-l-4 border-blue-500 text-blue-800 p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-2xl font-bold mb-4">Cómo resolver los problemas: El Método Infalible</h2>
            <p class="mb-3">El truco para no equivocarse NUNCA es usar "Factores de Conversión". Un factor de conversión es simplemente una fracción en la que el numerador (lo de arriba) y el denominador (lo de abajo) **valen lo mismo**, pero en unidades distintas.</p>
            <p class="mb-3">Por ejemplo, como <strong class="font-semibold">1 km = 1000 m</strong>, podemos escribir dos factores de conversión:</p>
            <div class="text-center font-mono my-3">
                <span class="inline-block bg-white p-2 rounded shadow mx-2">
                    1000 m
                    <hr class="border-gray-800 my-1">
                    1 km
                </span>
                <span>o</span>
                <span class="inline-block bg-white p-2 rounded shadow mx-2">
                    1 km
                    <hr class="border-gray-800 my-1">
                    1000 m
                </span>
            </div>
            <p class="mb-4">Usamos uno u otro según la unidad que queramos "cancelar". La unidad que quieres eliminar debe ir en el lado opuesto de la fracción.</p>

            <h3 class="text-xl font-bold mb-2">Ejemplo Paso a Paso: Convertir 72 km/h a m/s</h3>
            <p>Este parece difícil, pero es igual de fácil. ¡Necesitamos dos factores!</p>
            <ol class="list-decimal list-inside space-y-3 mt-4">
                <li>
                    <strong class="font-semibold">Escribimos el valor inicial:</strong>
                    <code class="block bg-white p-2 rounded mt-1">72 km / 1 h</code>
                </li>
                <li>
                    <strong class="font-semibold">Factor 1 (Distancia):</strong> Queremos eliminar "km" (que está arriba) y poner "m". Usamos el factor que tiene "km" abajo.
                    <code class="block bg-white p-2 rounded mt-1">(72 km / 1 h) &times; (1000 m / 1 km)</code>
                    <span class="text-sm italic text-blue-600">¡Ahora los "km" se cancelan!</span>
                </li>
                <li>
                    <strong class="font-semibold">Factor 2 (Tiempo):</strong> Queremos eliminar "h" (horas, que está abajo) y poner "s" (segundos). Usamos el factor que tiene "h" arriba. (Sabemos que 1 h = 3600 s).
                    <code class="block bg-white p-2 rounded mt-1">(72 <s class="text-red-500">km</s> / 1 h) &times; (1000 m / 1 <s class="text-red-500">km</s>) &times; (1 h / 3600 s)</code>
                    <span class="text-sm italic text-blue-600">¡Ahora las "h" también se cancelan!</span>
                </li>
                <li>
                    <strong class="font-semibold">Calculamos:</strong> Multiplicamos todo lo de arriba y dividimos por todo lo de abajo.
                    <code class="block bg-white p-2 rounded mt-1">(72 &times; 1000 &times; 1) m / (1 &times; 1 &times; 3600) s = 72000 m / 3600 s</code>
                </li>
                <li>
                    <strong class="font-semibold">Resultado Final:</strong>
                    <code class="block bg-green-100 text-green-800 font-bold p-2 rounded mt-1">20 m/s</code>
                </li>
            </ol>
        </div>

        <!-- Sección de Ejercicios -->
        <div class="space-y-6 pb-8"> <!-- Añadido padding-bottom por si acaso -->
            <h2 class="text-3xl font-bold text-center mb-6">¡A Practicar!</h2>

            <!-- Ejercicio 1: m a km -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <p class="text-lg font-semibold mb-3">1. Convertir 2500 metros (m) a kilómetros (km):</p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="number" id="input-1" placeholder="Tu respuesta" class="flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <span class="text-lg font-medium p-2">km</span>
                    <button id="btn-1" onclick="comprobar(1)" class="bg-blue-600 text-white py-2 px-5 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 disabled:bg-gray-400">Comprobar</button>
                </div>
                <p id="feedback-1" class="mt-2 font-medium"></p>
            </div>

            <!-- Ejercicio 2: km a m -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <p class="text-lg font-semibold mb-3">2. Convertir 3.5 kilómetros (km) a metros (m):</p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="number" id="input-2" placeholder="Tu respuesta" class="flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <span class="text-lg font-medium p-2">m</span>
                    <button id="btn-2" onclick="comprobar(2)" class="bg-blue-600 text-white py-2 px-5 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 disabled:bg-gray-400">Comprobar</button>
                </div>
                <p id="feedback-2" class="mt-2 font-medium"></p>
            </div>

            <!-- Ejercicio 3: m a cm -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <p class="text-lg font-semibold mb-3">3. Convertir 1.2 metros (m) a centímetros (cm):</p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="number" id="input-3" placeholder="Tu respuesta" class="flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <span class="text-lg font-medium p-2">cm</span>
                    <button id="btn-3" onclick="comprobar(3)" class="bg-blue-600 text-white py-2 px-5 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 disabled:bg-gray-400">Comprobar</button>
                </div>
                <p id="feedback-3" class="mt-2 font-medium"></p>
            </div>

            <!-- Ejercicio 4: g a kg -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <p class="text-lg font-semibold mb-3">4. Convertir 4500 gramos (g) a kilogramos (kg):</p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="number" id="input-4" placeholder="Tu respuesta" class="flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <span class="text-lg font-medium p-2">kg</span>
                    <button id="btn-4" onclick="comprobar(4)" class="bg-blue-600 text-white py-2 px-5 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 disabled:bg-gray-400">Comprobar</button>
                </div>
                <p id="feedback-4" class="mt-2 font-medium"></p>
            </div>
            
            <!-- Ejercicio 5: kg a g -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <p class="text-lg font-semibold mb-3">5. Convertir 0.8 kilogramos (kg) a gramos (g):</p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="number" id="input-5" placeholder="Tu respuesta" class="flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <span class="text-lg font-medium p-2">g</span>
                    <button id="btn-5" onclick="comprobar(5)" class="bg-blue-600 text-white py-2 px-5 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 disabled:bg-gray-400">Comprobar</button>
                </div>
                <p id="feedback-5" class="mt-2 font-medium"></p>
            </div>

            <!-- Ejercicio 6: min a s -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <p class="text-lg font-semibold mb-3">6. Convertir 30 minutos (min) a segundos (s):</p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="number" id="input-6" placeholder="Tu respuesta" class="flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <span class="text-lg font-medium p-2">s</span>
                    <button id="btn-6" onclick="comprobar(6)" class="bg-blue-600 text-white py-2 px-5 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 disabled:bg-gray-400">Comprobar</button>
                </div>
                <p id="feedback-6" class="mt-2 font-medium"></p>
            </div>

            <!-- Ejercicio 7: h a s -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <p class="text-lg font-semibold mb-3">7. Convertir 2.5 horas (h) a segundos (s):</p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="number" id="input-7" placeholder="Tu respuesta" class="flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <span class="text-lg font-medium p-2">s</span>
                    <button id="btn-7" onclick="comprobar(7)" class="bg-blue-600 text-white py-2 px-5 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 disabled:bg-gray-400">Comprobar</button>
                </div>
                <p id="feedback-7" class="mt-2 font-medium"></p>
            </div>

            <!-- Ejercicio 8: m/s a km/h -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <p class="text-lg font-semibold mb-3">8. (¡Doble factor!) Convertir 15 metros por segundo (m/s) a kilómetros por hora (km/h):</p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="number" id="input-8" placeholder="Tu respuesta" class="flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <span class="text-lg font-medium p-2">km/h</span>
                    <button id="btn-8" onclick="comprobar(8)" class="bg-blue-600 text-white py-2 px-5 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 disabled:bg-gray-400">Comprobar</button>
                </div>
                <p id="feedback-8" class="mt-2 font-medium"></p>
            </div>

            <!-- Ejercicio 9: km/h a m/s -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <p class="text-lg font-semibold mb-3">9. (¡Doble factor!) Convertir 108 kilómetros por hora (km/h) a metros por segundo (m/s):</p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="number" id="input-9" placeholder="Tu respuesta" class="flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <span class="text-lg font-medium p-2">m/s</span>
                    <button id="btn-9" onclick="comprobar(9)" class="bg-blue-600 text-white py-2 px-5 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 disabled:bg-gray-400">Comprobar</button>
                </div>
                <p id="feedback-9" class="mt-2 font-medium"></p>
            </div>

            <!-- Ejercicio 10: Densidad (kg/m^3 a g/cm^3) -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <p class="text-lg font-semibold mb-3">10. (¡Nivel Experto!) Convertir 1000 kilogramos por metro cúbico (kg/m³) a gramos por centímetro cúbico (g/cm³):</p>
                <p class="text-sm text-gray-600 mb-3">Pista: 1 m³ = (100 cm)³ = 1,000,000 cm³.</p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="number" id="input-10" placeholder="Tu respuesta" class="flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <span class="text-lg font-medium p-2">g/cm³</span>
                    <button id="btn-10" onclick="comprobar(10)" class="bg-blue-600 text-white py-2 px-5 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 disabled:bg-gray-400">Comprobar</button>
                </div>
                <p id="feedback-10" class="mt-2 font-medium"></p>
            </div>

            <!-- Bloque de email eliminado -->

        </div>
    </div>

    <script>
        // --- LÓGICA DE JAVASCRIPT ---

        // Variables para el marcador
        let aciertos = 0;
        let fallos = 0;

        // Referencias a los elementos del marcador
        const aciertosDisplay = document.getElementById('aciertos');
        const fallosDisplay = document.getElementById('fallos');

        // Almacén de respuestas y estado de cada ejercicio
        const ejercicios = [
            { id: 1, respuesta: 2.5, resuelto: false },
            { id: 2, respuesta: 3500, resuelto: false },
            { id: 3, respuesta: 120, resuelto: false },
            { id: 4, respuesta: 4.5, resuelto: false },
            { id: 5, respuesta: 800, resuelto: false },
            { id: 6, respuesta: 1800, resuelto: false }, // 30 min * 60 s/min
            { id: 7, respuesta: 9000, resuelto: false }, // 2.5 h * 3600 s/h
            { id: 8, respuesta: 54, resuelto: false },   // 15 m/s * 3.6
            { id: 9, respuesta: 30, resuelto: false },   // 108 km/h / 3.6
            { id: 10, respuesta: 1, resuelto: false }    // 1000 kg/m^3 / 1000
        ];

        // Función para actualizar el marcador
        function actualizarMarcador() {
            aciertosDisplay.textContent = aciertos;
            fallosDisplay.textContent = fallos;
        }

        // Función principal para comprobar la respuesta
        function comprobar(id) {
            // 1. Encontrar el ejercicio en nuestro almacén
            const ejercicio = ejercicios.find(e => e.id === id);

            // 2. Si ya se resolvió, no hacer nada
            if (ejercicio.resuelto) {
                return;
            }

            // 3. Obtener los elementos del DOM
            const input = document.getElementById('input-' + id);
            const feedback = document.getElementById('feedback-' + id);
            const button = document.getElementById('btn-' + id);

            // 4. Obtener y convertir el valor del usuario
            const valorUsuario = parseFloat(input.value);

            // 5. Comprobar si la respuesta es un número válido
            if (isNaN(valorUsuario)) {
                feedback.textContent = "Por favor, introduce un número válido.";
                feedback.className = "text-yellow-600 font-bold mt-2";
                return;
            }

            // 6. Comparar la respuesta del usuario con la respuesta correcta
            // Usamos Math.abs para permitir un pequeño margen de error en decimales
            if (Math.abs(valorUsuario - ejercicio.respuesta) < 0.01) {
                // --- CORRECTO ---
                aciertos++;
                ejercicio.resuelto = true;
                feedback.innerHTML = `¡Correcto! La respuesta es <strong>${ejercicio.respuesta}</strong>.`;
                feedback.className = "text-green-600 font-bold mt-2";
            } else {
                // --- INCORRECTO ---
                fallos++;
                ejercicio.resuelto = true;
                feedback.innerHTML = `Incorrecto. La respuesta correcta era <strong>${ejercicio.respuesta}</strong>.`;
                feedback.className = "text-red-600 font-bold mt-2";
            }

            // 7. Deshabilitar el input y el botón
            input.disabled = true;
            button.disabled = true;
            button.textContent = "Comprobado";

            // 8. Actualizar el marcador
            actualizarMarcador();

            // 9. Lógica de activación de email eliminada
        }

        // Función de enviarResultados eliminada
    </script>

</body>
</html>
