<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Matem√°ticas - 4¬∫ Primaria</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f8ff; margin: 0; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; background-color: white; padding: 30px; border-radius: 15px; box-shadow: 0 0 15px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #2c3e50; }
        h2 { color: #e67e22; border-bottom: 2px solid #e67e22; padding-bottom: 10px; margin-top: 40px; }
        .summary-box { background-color: #fff3cd; border-left: 5px solid #ffc107; padding: 15px; margin-bottom: 20px; border-radius: 5px; }
        .example-box { background-color: #d1ecf1; border-left: 5px solid #17a2b8; padding: 15px; margin-bottom: 20px; border-radius: 5px; }
        .exercise { margin-bottom: 15px; padding: 10px; border-bottom: 1px solid #eee; }
        .exercise label { font-weight: bold; display: block; margin-bottom: 5px; }
        input[type="text"], input[type="number"] { padding: 8px; width: 60%; border: 2px solid #ccc; border-radius: 5px; font-size: 16px; }
        button { padding: 8px 15px; background-color: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; margin-left: 10px; }
        button:hover { background-color: #218838; }
        .feedback { margin-left: 10px; font-weight: bold; }
        .correct { color: green; }
        .incorrect { color: red; }
        .nav-buttons { text-align: center; margin-top: 30px; }
        .section { display: none; }
        .section.active { display: block; }
        .nav-btn { background-color: #007bff; margin: 5px; }
    </style>
</head>
<body>

<div class="container">
    <h1>Matem√°ticas 4¬∫ Primaria</h1>
    
    <div class="nav-buttons">
        <button class="nav-btn" onclick="showSection('bloque1')">1. Numeraci√≥n</button>
        <button class="nav-btn" onclick="showSection('bloque2')">2. Divisiones</button>
        <button class="nav-btn" onclick="showSection('bloque3')">3. Operaciones Combinadas</button>
    </div>

    <div id="bloque1" class="section active">
        <h2>1. Numeraci√≥n de hasta 7 Cifras</h2>
        
        <div class="summary-box">
            <strong>Resumen:</strong> Los n√∫meros de 7 cifras llegan hasta los <strong>Millones</strong>. 
            El orden es: Unidades de Mill√≥n (UMM), Centenas de Millar (CM), Decenas de Millar (DM), Unidades de Millar (UM), Centenas (C), Decenas (D) y Unidades (U).
            <br>Recuerda poner un punto cada tres cifras empezando por la derecha para leerlo mejor.
        </div>

        <div class="example-box">
            <strong>Ejemplo:</strong> Descomp√≥n el n√∫mero 3.456.789
            <br><em>Soluci√≥n:</em> 3 UMM + 4 CM + 5 DM + 6 UM + 7 C + 8 D + 9 U
            <br><em>O tambi√©n:</em> 3.000.000 + 400.000 + 50.000 + 6.000 + 700 + 80 + 9
        </div>

        <div id="ejercicios-bloque1"></div>
    </div>

    <div id="bloque2" class="section">
        <h2>2. Divisiones</h2>
        
        <div class="summary-box">
            <strong>Resumen:</strong>
            <ul>
                <li><strong>Divisi√≥n exacta:</strong> El resto es 0.</li>
                <li><strong>Divisi√≥n entera:</strong> El resto es distinto de 0 (pero menor que el divisor).</li>
                <li><strong>Unidad seguida de ceros:</strong> Para dividir por 10, 100, 1000, tachamos tantos ceros en el dividendo como tenga el divisor.</li>
            </ul>
        </div>

        <div class="example-box">
            <strong>Ejemplo 1:</strong> 4500 : 100
            <br><em>Soluci√≥n:</em> Tachamos dos ceros al 4500. Resultado = 45.
            <br><strong>Ejemplo 2:</strong> Prueba de la divisi√≥n:
            <br><em>F√≥rmula:</em> Dividendo = (Divisor √ó Cociente) + Resto
        </div>

        <div id="ejercicios-bloque2"></div>
    </div>

    <div id="bloque3" class="section">
        <h2>3. Operaciones Combinadas</h2>
        
        <div class="summary-box">
            <strong>Resumen (Jerarqu√≠a):</strong> Para resolver operaciones mezcladas, sigue este orden estricto:
            <ol>
                <li>Primero: Los <strong>Par√©ntesis</strong> ( ).</li>
                <li>Segundo: <strong>Multiplicaciones</strong> y <strong>Divisiones</strong>.</li>
                <li>Tercero: <strong>Sumas</strong> y <strong>Restas</strong>.</li>
            </ol>
        </div>

        <div class="example-box">
            <strong>Ejemplo:</strong> 5 + 3 √ó 2
            <br><em>Paso 1 (Multiplicaci√≥n):</em> 3 √ó 2 = 6
            <br><em>Paso 2 (Suma):</em> 5 + 6 = 11
            <br><strong>¬°Cuidado!</strong> Si haces primero 5+3 estar√≠a mal (8 √ó 2 = 16 ‚ùå).
        </div>

        <div id="ejercicios-bloque3"></div>
    </div>

</div>

<script>
    // Datos de los ejercicios
    const ejercicios = {
        bloque1: [
            { p: "¬øC√≥mo se escribe en cifras: Dos millones trescientos mil?", a: "2300000" },
            { p: "Descomp√≥n: ¬øCu√°ntas Unidades de Millar (UM) tiene 45.678?", a: "5" },
            { p: "Escribe el n√∫mero anterior a 1.000.000", a: "999999" },
            { p: "Descomp√≥n 3.500.000 en suma (sin puntos):", a: "3000000+500000" },
            { p: "¬øQu√© valor tiene la cifra 7 en el n√∫mero 3.720.000? (Escribe el n√∫mero completo)", a: "700000" },
            { p: "Escribe el n√∫mero: 4 UMM + 2 CM + 1 U", a: "4200001" },
            { p: "¬øCu√°l es mayor: 3.456.000 o 3.465.000? (Escribe el n√∫mero)", a: "3465000" },
            { p: "Redondea 4.580.000 a la Centena de Millar m√°s pr√≥xima:", a: "4600000" },
            { p: "Escribe en cifras: Cinco millones cuarenta y dos", a: "5000042" },
            { p: "Suma mentalmente: 2.000.000 + 350.000", a: "2350000" }
        ],
        bloque2: [
            { p: "Divide: 450 : 10", a: "45" },
            { p: "Divide: 6300 : 100", a: "63" },
            { p: "Calcula el resto de 25 : 4", a: "1" },
            { p: "Divide: 8000 : 1000", a: "8" },
            { p: "Si el divisor es 5 y el cociente es 6 (exacta), ¬øcu√°l es el dividendo?", a: "30" },
            { p: "Calcula la mitad de 480", a: "240" },
            { p: "En una divisi√≥n, si el resto es 0, la divisi√≥n es...", a: "exacta" },
            { p: "Divide 360 : 6", a: "60" },
            { p: "Divide 120 : 12", a: "10" },
            { p: "Si reparto 15 caramelos entre 3 ni√±os, ¬øcu√°ntos tocan?", a: "5" }
        ],
        bloque3: [
            { p: "Calcula: 5 + 2 √ó 3", a: "11" },
            { p: "Calcula: (5 + 2) √ó 3", a: "21" },
            { p: "Calcula: 10 - 4 : 2", a: "8" },
            { p: "Calcula: 20 : (2 + 3)", a: "4" },
            { p: "Calcula: 3 √ó 3 + 2", a: "11" },
            { p: "Calcula: 8 + 10 : 2", a: "13" },
            { p: "Calcula: (10 - 2) : 4", a: "2" },
            { p: "Calcula: 5 √ó 4 - 10", a: "10" },
            { p: "Calcula: 2 + 2 + 2 √ó 0", a: "4" },
            { p: "Calcula: 100 - 50 √ó 2", a: "0" }
        ]
    };

    // Funci√≥n para generar ejercicios HTML
    function generarEjercicios(bloqueId, datos) {
        const contenedor = document.getElementById(`ejercicios-${bloqueId}`);
        datos.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'exercise';
            div.innerHTML = `
                <label>${index + 1}. ${item.p}</label>
                <input type="text" id="${bloqueId}-r${index}" placeholder="Tu respuesta aqu√≠">
                <button onclick="verificar('${bloqueId}', ${index}, '${item.a}')">Comprobar</button>
                <span id="${bloqueId}-f${index}" class="feedback"></span>
            `;
            contenedor.appendChild(div);
        });
    }

    // Generar los 3 bloques
    generarEjercicios('bloque1', ejercicios.bloque1);
    generarEjercicios('bloque2', ejercicios.bloque2);
    generarEjercicios('bloque3', ejercicios.bloque3);

    // Funci√≥n de verificaci√≥n
    function verificar(bloque, index, respuestaCorrecta) {
        const input = document.getElementById(`${bloque}-r${index}`);
        const feedback = document.getElementById(`${bloque}-f${index}`);
        // Limpiamos espacios y pasamos a min√∫sculas para comparar mejor
        let respuestaUsuario = input.value.trim().toLowerCase().replace(/\./g, ''); // Quita puntos de miles
        let correctaNormalizada = respuestaCorrecta.toLowerCase().replace(/\./g, '');
        
        if (respuestaUsuario === correctaNormalizada) {
            feedback.textContent = "¬°Correcto! üéâ";
            feedback.className = "feedback correct";
        } else {
            feedback.textContent = "Int√©ntalo de nuevo.";
            feedback.className = "feedback incorrect";
        }
    }

    // Navegaci√≥n entre pesta√±as
    function showSection(id) {
        document.querySelectorAll('.section').forEach(d => d.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }
</script>

</body>
</html>
